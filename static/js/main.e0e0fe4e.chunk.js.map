{"version":3,"sources":["ImageGalleryItem/ImageGalleryItem.module.css","Modal/Modal.module.css","ImageGallery/ImageGallery.module.css","Button/Button.module.css","Searchbar/Searchbar.module.css","Searchbar/Searchbar.js","ImageGalleryItem/ImageGalleryItem.js","ImageGallery/ImageGallery.js","Button/Button.js","Servis/Api.js","Loader/Loader.js","Modal/Modal.js","App.js","index.js"],"names":["module","exports","Searchbar","state","query","handleInput","e","setState","currentTarget","value","trim","handleSubmit","preventDefault","props","onSubmit","toast","error","this","className","styles","searchbar","form","type","buttonForm","Provider","buttonIcon","buttonLabel","onChange","input","autoComplete","autoFocus","pattern","placeholder","name","Component","ImageGalleryItem","pictures","handleLargeImage","map","id","webformatURL","user","largeImageURL","onClick","galleryItem","img","src","alt","ImageGallery","gallery","Button","btn","key","fetchApi","page","axios","get","then","data","hits","Loading","color","height","width","timeout","Modal","handleKeyDown","evt","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","largeImage","overlay","modal","App","searchQuery","isLoading","fetchPictures","length","warning","prevState","catch","message","finally","scrollTo","top","document","documentElement","scrollHeight","behavior","changePage","prevPage","closeModal","_","prevQuery","nextQuery","nextPage","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e0e0fe4e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"ImageGalleryItem_img__TF_Va\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2dQ55\",\"modal\":\"Modal_modal__37GbI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__163D_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"Button_btn__15KUL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__3Slxq\",\"form\":\"Searchbar_form__2Lk2u\",\"buttonForm\":\"Searchbar_buttonForm__30XNH\",\"input\":\"Searchbar_input__2W8Qg\",\"buttonIcon\":\"Searchbar_buttonIcon__DXr_i\"};","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Searchbar.module.css\";\r\nimport { FcSearch } from \"react-icons/fc\";\r\nimport { IconContext } from \"react-icons\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    query: \"\",\r\n  };\r\n\r\n  handleInput = (e) => {\r\n    this.setState({\r\n      query: e.currentTarget.value.trim(),\r\n    });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const { query } = this.state;\r\n\r\n    if (query === \"\") {\r\n      toast.error(\"Enter the data in the form!\")\r\n      return\r\n    }\r\n    this.props.onSubmit(query);\r\n    this.setState({ query: \"\" })\r\n  };\r\n\r\n  render() {\r\n    const {query}=this.state\r\n    return (\r\n      <header className={styles.searchbar}>\r\n        <form className={styles.form} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styles.buttonForm}>\r\n            <IconContext.Provider value={{ className: styles.buttonIcon }}>\r\n              <span className={styles.buttonLabel}>\r\n                <FcSearch />\r\n              </span>\r\n            </IconContext.Provider>\r\n          </button>\r\n\r\n          <input\r\n            onChange={this.handleInput}\r\n            className={styles.input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\r\n            placeholder=\"Search images and photos\"\r\n            name=\"query\"\r\n            value={query}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport { Searchbar };\r\n","import PropTypes from \"prop-types\";\r\nimport styles from \"./ImageGalleryItem.module.css\"\r\n\r\nconst ImageGalleryItem = ({ pictures, handleLargeImage }) => {\r\n  return pictures.map(({ id, webformatURL, user, largeImageURL }) => {\r\n    return (\r\n      <li onClick={()=>handleLargeImage(largeImageURL, user)} key={id} className={styles.galleryItem}>\r\n        <img className={styles.img} src={webformatURL} alt={user} data-image={largeImageURL} />\r\n      </li>\r\n    );\r\n  });\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  pictures: PropTypes.arrayOf(PropTypes.object),\r\n  handleLargeImage: PropTypes.func.isRequired\r\n};\r\n\r\nexport { ImageGalleryItem };\r\n","import PropTypes from \"prop-types\";\r\nimport { ImageGalleryItem } from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport styles from \"./ImageGallery.module.css\"\r\n\r\nconst ImageGallery = ({pictures, handleLargeImage}) => {\r\n  return (\r\n    <ul className={styles.gallery}>\r\n      <ImageGalleryItem pictures={pictures} handleLargeImage={handleLargeImage}/>\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  pictures: PropTypes.arrayOf(PropTypes.object),\r\n  handleLargeImage: PropTypes.func.isRequired\r\n};\r\n\r\nexport { ImageGallery };\r\n","import styles from \"./Button.module.css\"\r\nimport PropTypes from \"prop-types\";\r\n\r\n\r\nconst Button = ({onClick}) => {\r\n    return (\r\n        <button onClick={onClick} className={styles.btn}>Load more</button>\r\n    )\r\n}\r\n\r\nButton.propTypes = {\r\n    onClick: PropTypes.func.isRequired\r\n}\r\n\r\nexport {Button}","import axios from 'axios';\r\n\r\nconst key = '23495092-fcdd3993ee353ca97f61af1fc';\r\n\r\nconst fetchApi = (query = '', page = 1 ) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${query}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n    .then(({ data }) => data.hits);\r\n};\r\n\r\nexport  {fetchApi};","import Loader from \"react-loader-spinner\";\r\n\r\nconst Loading = () => {\r\n    return (\r\n        <Loader\r\n        type=\"Puff\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000}\r\n      />\r\n    )\r\n}\r\n\r\nexport {Loading}","import { Component } from \"react\";\r\nimport styles from \"./Modal.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n\r\nclass Modal extends Component {\r\n    static propTypes= {\r\n        onClose: PropTypes.func.isRequired,\r\n        largeImage: PropTypes.string.isRequired,\r\n        alt: PropTypes.string.isRequired\r\n    }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (evt) => {\r\n    if (evt.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = (evt) => {\r\n    if (evt.currentTarget === evt.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { largeImage, alt } = this.props;\r\n    return (\r\n      <div className={styles.overlay} onClick={this.handleBackdropClick}>\r\n        <div className={styles.modal}>\r\n          <img src={largeImage} alt={alt} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport { Modal };\r\n","import React, { Component } from \"react\";\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { Searchbar } from \"./Searchbar/Searchbar\";\r\nimport { ImageGallery } from \"./ImageGallery/ImageGallery\";\r\nimport { Button } from \"./Button/Button\";\r\nimport { fetchApi } from \"./Servis/Api\";\r\nimport { Loading } from \"./Loader/Loader\";\r\nimport { Modal } from \"./Modal/Modal\";\r\n\r\nclass App extends Component {\r\n  state = {\r\n    pictures: [],\r\n    page: 1,\r\n    searchQuery: \"\",\r\n    isLoading: false,\r\n    largeImage: \"\",\r\n    alt: \"\"\r\n  };\r\n\r\n  componentDidUpdate(_, prevState) {\r\n    const prevQuery = prevState.searchQuery;\r\n    const nextQuery = this.state.searchQuery;\r\n    const prevPage = prevState.page;\r\n    const nextPage = this.state.page;\r\n\r\n    if (prevQuery !== nextQuery || prevPage !== nextPage) {\r\n      this.fetchPictures();\r\n    }\r\n  }\r\n\r\n  handleInput = (query) => {\r\n    this.setState({ searchQuery: query, page: 1, pictures: [] });\r\n  };\r\n\r\n  fetchPictures = () => {\r\n    const { searchQuery, page } = this.state;\r\n    this.setState({ isLoading: true })\r\n    fetchApi(searchQuery, page).then((data) => {\r\n      if (data.length === 0) { toast.warning(\"Зображення не знайдено!\") }\r\n      this.setState((prevState) => ({\r\n        pictures: [...prevState.pictures, ...data],\r\n      }));\r\n    }).catch((error) => toast.error(error.message))\r\n      .finally(() => {\r\n        this.setState({ isLoading: false })\r\n        window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: 'smooth',\r\n        });\r\n      })\r\n  };\r\n\r\n  changePage = () => {\r\n    this.setState((prevPage) => ({\r\n      page: prevPage.page + 1,\r\n    }));\r\n  };\r\n\r\n  handleLargeImage = (img, alt) => {\r\n    this.setState({largeImage:img, alt: alt})\r\n  }\r\n\r\n  closeModal = () => this.setState({largeImage: '', alt: ''});\r\n\r\n  render() {\r\n    const { pictures, isLoading, largeImage, alt } = this.state;\r\n    return (\r\n      <div className=\"App\">\r\n        <Searchbar onSubmit={this.handleInput} />\r\n        {isLoading && <Loading />}\r\n        {pictures.length > 0 && <ImageGallery pictures={pictures} handleLargeImage={this.handleLargeImage}/>}\r\n        {pictures.length > 11 && <Button onClick={this.changePage} />}\r\n        {largeImage && <Modal largeImage={largeImage} alt={alt} onClose={this.closeModal}/>}\r\n        <ToastContainer\r\n          position=\"top-right\"\r\n          autoClose={3000}\r\n          hideProgressBar={false}\r\n          newestOnTop={false}\r\n          closeOnClick\r\n          rtl={false}\r\n          pauseOnFocusLoss\r\n          draggable\r\n          pauseOnHover\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport \"./index.css\"\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}